<!DOCTYPE html><html lang="en">
	<head>
		<!-- Google Tag Manager -->
<!-- End Google Tag Manager -->

<!-- Global Metadata -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<link rel="icon" type="image/x-icon" href="/favicon.ico">

<!-- Primary Meta Tags -->
<title>take4s5i DEV - Astro ざっくりまとめ</title>
<meta name="title" content="Astro ざっくりまとめ">
<meta name="description">

<!-- Open Graph / Facebook -->
<meta property="og:type" content="website">
<meta property="og:url">
<meta property="og:title" content="Astro ざっくりまとめ">
<meta property="og:description">
<meta property="og:image" content="https://astro.build/social.png?v=1">

<!-- Twitter -->
<meta property="twitter:card" content="summary_large_image">
<meta property="twitter:url">
<meta property="twitter:title" content="Astro ざっくりまとめ">
<meta property="twitter:description">
<meta property="twitter:image" content="https://astro.build/social.png?v=1">

<!-- Fonts -->
<link rel="preconnect" href="https://fonts.gstatic.com">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono&family=IBM+Plex+Sans:wght@400;700&display=swap">

	<link rel="stylesheet" href="/assets/posts-2022-07-introduction-to-astro-index.488682a9.css" />
<link rel="stylesheet" href="/assets/c99d5208.070dc6d6.css" /><script type="module">(function(t,n,r,e,m){t[e]=t[e]||[],t[e].push({"gtm.start":new Date().getTime(),event:"gtm.js"});var g=n.getElementsByTagName(r)[0],a=n.createElement(r),s=e!="dataLayer"?"&l="+e:"";a.async=!0,a.src="https://www.googletagmanager.com/gtm.js?id="+m+s,g.parentNode.insertBefore(a,g)})(window,document,"script","dataLayer","GTM-P42NKJ8");
</script></head>
	<body>
		<header class="wrapper astro-W2MTFRY6">
	<article class="astro-W2MTFRY6">
		<h1 class="astro-W2MTFRY6">
			<a href="/" class="astro-W2MTFRY6">
				<span class="astro-W2MTFRY6">take4s5i DEV</span>
			</a>
		</h1>
	</article>
</header>


		<div class="wrapper">
			<div class="layout astro-O6PTD47S">
	<article class="content astro-O6PTD47S">
		<div class="astro-O6PTD47S">
			<header class="astro-O6PTD47S">
				
				<p class="publish-date astro-O6PTD47S">16 Jul 2022</p>
				<h1 class="title astro-O6PTD47S">Astro ざっくりまとめ</h1>
			</header>
			<div class="editbar astro-O6PTD47S">
				<a href="https://github.com/take4s5i/blog/blob/main/src/pages/posts/2022/07/introduction-to-astro.md" class="astro-O6PTD47S">Edit This Page</a>
			</div>
			<main class="astro-O6PTD47S">
				<p>ブログを <a href="https://astro.build/">Astro</a> で作り直したので
備忘録がてらまとめていこうかなと思います。</p>
<h2 id="astro-とは">Astro とは</h2>
<p><a href="https://astro.build/">Astro</a> は静的サイトジェネレータです。</p>
<p>Next.js のSSG, Hugo, Gatsby と同じようなツールと言えます。</p>
<p>以下のような特徴があります。</p>
<ul>
<li>コンポーネント思考によるモダンなWeb開発</li>
<li>React, Preact, Svelte, Vue 等の複数のフレームワークに対応</li>
<li><a href="https://docs.astro.build/en/core-concepts/partial-hydration/#islands-architecture">Islands Archtecture</a> に基づいた高速なWebサイトの生成。</li>
</ul>
<p>また、ブログ用途限定かもしれませんが何もセットアップしなくても markdown が読み込めて
シンタックスハイライトまで効いてくれます。</p>
<h2 id="gatsby-との比較">Gatsby との比較</h2>
<p>会社のドキュメントで <a href="https://www.gatsbyjs.com/">Gatsby</a> を使ってるので比較してみようと思います。
<a href="https://docs.astro.build/en/comparing-astro-vs-other-tools/#gatsby-vs-astro">公式での比較ドキュメント</a> があるので主に使用感について。</p>
<p><strong>Astro の良いところ</strong></p>
<ul>
<li>Starter 探したり, Plugin 頑張って設定しなくても markdown 等がそこそこいい感じで使える</li>
<li>build, devモードの起動が半端なく早い
<ul>
<li><a href="https://vitejs.dev/">Vite</a> 使ってるようなので Vite のおかげかも</li>
</ul>
</li>
</ul>
<p><strong>Gatsby のよいところ</strong></p>
<ul>
<li>コーディングのサポート
<ul>
<li>jsx なのでエディタ等のサポートが充実してます</li>
<li>astro は Vim だとシンタックスハイライトすら効かない・・・(2022年7月現在)</li>
</ul>
</li>
<li>GraphQL でデータを取ってこれる柔軟性</li>
<li>プラグインによる拡張性</li>
</ul>
<h2 id="従来の-ssr-の問題">従来の SSR の問題</h2>
<p>Islands Archtecture について話す前に従来の SSR の問題点について軽くおさらいします。</p>
<p>通常 SPA は<code>&lt;div id=&quot;app&quot;&gt;</code> のようなタグ（=マウントポイント）を1つだけ body の中に設置し、
その下はフレームワークによってレンダリングされます。</p>
<p>SSR 時、React 等のフレームワークはマウントポイントに静的に HTML をレンダリングしてクライアントに返します。
このときクライアント側では <em>ハイドレーション</em> という処理が行われます。</p>
<p>ハイドレーション では以下のような処理が実行されます。</p>
<ul>
<li>コンポーネント等のjsロード, 実行</li>
<li>コンポーネントのローカルステートの設定</li>
<li>イベントハンドラの設定</li>
</ul>
<p>SSR によって Core Web Vitals の LCP (Largest Content Paint) は改善しますが、
ハイドレーションの処理があるため FID (First Input Delay) は改善しません。</p>
<h2 id="islands-archtecture-とは">Islands Archtecture とは</h2>
<p>Islands Archtecture は Web ページを複数のパーツ (= Island) の組み合わせとして考えます。
Island には2つのタイプがあって、</p>
<ul>
<li>SSR + ハイドレーション or CSR する部分</li>
<li>静的な HTML の部分</li>
</ul>
<p>js 不要な部分に関しては単なるHTML + CSS で返してしまおうということですね。
こうすることで、頭から全部ハイドレーションするより処理を軽くすることが出来ます。</p>
<p>また、Astro では Partial Hydration といって Island 毎に独立してハイドレーションします。
ハイドレーションの方法も複数サポートしていて、ここらへんの細かい制御ができるのもAstroの強みになっています。</p>
<h2 id="astro-component-と-framework-component">Astro Component と Framework Component</h2>
<p>Astro では Component が複数種類あります。</p>
<p><strong>Astro Component</strong></p>
<ul>
<li><code>*.astro</code></li>
<li>Islands Archtecture の静的な HTML の部分を担当</li>
<li>CSR は出来ない。</li>
<li>JSX ぽいシンタックスで書ける</li>
<li>Astro Comopnent 内では Astro Component, Framework Component の両方が使える</li>
</ul>
<p>詳しくは<a href="https://docs.astro.build/en/core-concepts/astro-components/">こちら</a></p>
<p><strong>Framework Component</strong></p>
<ul>
<li>React, Preact, Svelte, Vue 等の各種フレームワークでレンダリングされるコンポーネント</li>
<li><code>*.tsx</code>, <code>*.jsx</code> など(フレームワークによる)</li>
<li>Framework Comopnent 内では Astro Component は使えない。</li>
</ul>
<p>また、ビルトインで markdown がサポートされており、何も設定しなくても勝手にシンタックスハイライトが効きます。
（便利ですね）</p>
<p>markdownでは jsx のようなシンタックスもサポートされていて、 <a href="https://mdxjs.com/">MDX</a> のように使えます。
markdownの中で, Astro Component や Framework Component を使うことも可能です。</p>
<h2 id="astro-のプロジェクト構成">Astro のプロジェクト構成</h2>
<ul>
<li><code>src/components</code>: 再利用可能なコンポーネント群
<ul>
<li>Astro Component, Framework Component両方</li>
</ul>
</li>
<li><code>src/pages</code>: Page Component
<ul>
<li>HTML全体をレンダリングする root となるコンポーネント</li>
<li>Astro Component のみ</li>
</ul>
</li>
<li><code>src/layouts</code>: markdown や Page Component で利用するレイアウト用コンポーネント
<ul>
<li>Astro Component のみ</li>
</ul>
</li>
<li><code>src/styles</code>
<ul>
<li>css や sass 等のスタイル置き場</li>
</ul>
</li>
<li><code>public</code>
<ul>
<li>robots.txt 等の そのまま公開されるファイルを置く場所</li>
</ul>
</li>
</ul>
<p><a href="https://docs.astro.build/en/core-concepts/project-structure/">ここらへん</a>に詳しく書いてあります。</p>
<h2 id="astro-サンプル実装">Astro サンプル実装</h2>
<p>サンプルを使って説明します。
（<a href="https://github.com/take4s5i/blog/blob/main/src/components/posts/2022/07/introduction-to-astro">ソース</a>）</p>
<p><strong>Icon.astro</strong> [<a target="_blank" href="https://github.com/take4s5i/blog/blob/main/src/components/posts/2022/07/introduction-to-astro/Icon.astro">src</a>]</p>
<pre class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #FF7B72">---</span></span>
<span class="line"><span style="color: #8B949E">// Icon.astro</span></span>
<span class="line"><span style="color: #FF7B72">export</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">interface</span><span style="color: #C9D1D9"> </span><span style="color: #FFA657">Props</span><span style="color: #C9D1D9"> {</span></span>
<span class="line"><span style="color: #C9D1D9">  </span><span style="color: #FFA657">type</span><span style="color: #FF7B72">:</span><span style="color: #C9D1D9"> </span><span style="color: #A5D6FF">&#39;success&#39;</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">|</span><span style="color: #C9D1D9"> </span><span style="color: #A5D6FF">&#39;danger&#39;</span></span>
<span class="line"><span style="color: #C9D1D9">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #FF7B72">const</span><span style="color: #C9D1D9"> { </span><span style="color: #79C0FF">type</span><span style="color: #C9D1D9"> } </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> Astro.props</span></span>
<span class="line"><span style="color: #FF7B72">---</span></span>
<span class="line"><span style="color: #C9D1D9">&lt;</span><span style="color: #7EE787">div</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">class</span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9">{[</span><span style="color: #A5D6FF">&#39;icon&#39;</span><span style="color: #C9D1D9">, </span><span style="color: #A5D6FF">`icon-${</span><span style="color: #C9D1D9">type</span><span style="color: #A5D6FF">}`</span><span style="color: #C9D1D9">].</span><span style="color: #D2A8FF">join</span><span style="color: #C9D1D9">(</span><span style="color: #A5D6FF">&#39; &#39;</span><span style="color: #C9D1D9">)}&gt;</span></span>
<span class="line"><span style="color: #C9D1D9">  &lt;</span><span style="color: #7EE787">slot</span><span style="color: #C9D1D9"> /&gt;</span></span>
<span class="line"><span style="color: #C9D1D9">&lt;/</span><span style="color: #7EE787">div</span><span style="color: #C9D1D9">&gt;</span></span>
<span class="line"><span style="color: #C9D1D9">&lt;</span><span style="color: #7EE787">style</span><span style="color: #C9D1D9">&gt;</span></span>
<span class="line"><span style="color: #C9D1D9">.icon {</span></span>
<span class="line"><span style="color: #C9D1D9">  min</span><span style="color: #FF7B72">-</span><span style="color: #C9D1D9">width: 120px;</span></span>
<span class="line"><span style="color: #C9D1D9">  text</span><span style="color: #FF7B72">-</span><span style="color: #C9D1D9">align: center;</span></span>
<span class="line"><span style="color: #C9D1D9">  font</span><span style="color: #FF7B72">-</span><span style="color: #C9D1D9">weight: bold;</span></span>
<span class="line"><span style="color: #C9D1D9">  border</span><span style="color: #FF7B72">-</span><span style="color: #C9D1D9">style: solid;</span></span>
<span class="line"><span style="color: #C9D1D9">  border</span><span style="color: #FF7B72">-</span><span style="color: #C9D1D9">radius: 4px;</span></span>
<span class="line"><span style="color: #C9D1D9">  padding: 2px 4px;</span></span>
<span class="line"><span style="color: #C9D1D9">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C9D1D9">.icon.icon-success {</span></span>
<span class="line"><span style="color: #C9D1D9">  background</span><span style="color: #FF7B72">-</span><span style="color: #C9D1D9">color: royalblue;</span></span>
<span class="line"><span style="color: #C9D1D9">  border</span><span style="color: #FF7B72">-</span><span style="color: #C9D1D9">color: royalblue;</span></span>
<span class="line"><span style="color: #C9D1D9">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C9D1D9">.icon.icon-danger {</span></span>
<span class="line"><span style="color: #C9D1D9">  background</span><span style="color: #FF7B72">-</span><span style="color: #C9D1D9">color: tomato;</span></span>
<span class="line"><span style="color: #C9D1D9">  border</span><span style="color: #FF7B72">-</span><span style="color: #C9D1D9">color: tomato;</span></span>
<span class="line"><span style="color: #C9D1D9">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C9D1D9">&lt;/</span><span style="color: #7EE787">style</span><span style="color: #C9D1D9">&gt;</span></span>
<span class="line"></span></code></pre>

<p><strong>TodoItem.astro</strong> [<a target="_blank" href="https://github.com/take4s5i/blog/blob/main/src/components/posts/2022/07/introduction-to-astro/TodoItem.astro">src</a>]</p>
<pre class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #FF7B72">---</span></span>
<span class="line"><span style="color: #8B949E">// TodoItem.astro</span></span>
<span class="line"><span style="color: #FF7B72">export</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">interface</span><span style="color: #C9D1D9"> </span><span style="color: #FFA657">Props</span><span style="color: #C9D1D9"> {</span></span>
<span class="line"><span style="color: #C9D1D9">  </span><span style="color: #FFA657">title</span><span style="color: #FF7B72">:</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">string</span><span style="color: #C9D1D9">;</span></span>
<span class="line"><span style="color: #C9D1D9">  </span><span style="color: #FFA657">completed</span><span style="color: #FF7B72">:</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">boolean</span><span style="color: #C9D1D9">;</span></span>
<span class="line"><span style="color: #C9D1D9">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #FF7B72">import</span><span style="color: #C9D1D9"> Icon </span><span style="color: #FF7B72">from</span><span style="color: #C9D1D9"> </span><span style="color: #A5D6FF">&#39;./Icon.astro&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #FF7B72">const</span><span style="color: #C9D1D9"> { </span><span style="color: #79C0FF">title</span><span style="color: #C9D1D9">, </span><span style="color: #79C0FF">completed</span><span style="color: #C9D1D9"> } </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> Astro.props</span></span>
<span class="line"></span>
<span class="line"><span style="color: #FF7B72">---</span></span>
<span class="line"><span style="color: #C9D1D9">&lt;</span><span style="color: #7EE787">div</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">class</span><span style="color: #FF7B72">=</span><span style="color: #A5D6FF">&quot;card&quot;</span><span style="color: #C9D1D9">&gt;</span></span>
<span class="line"><span style="color: #C9D1D9">  &lt;</span><span style="color: #7EE787">div</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">class</span><span style="color: #FF7B72">=</span><span style="color: #A5D6FF">&quot;title&quot;</span><span style="color: #C9D1D9">&gt;{title}&lt;/</span><span style="color: #7EE787">div</span><span style="color: #C9D1D9">&gt;</span></span>
<span class="line"><span style="color: #C9D1D9">  &lt;</span><span style="color: #7EE787">div</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">class</span><span style="color: #FF7B72">=</span><span style="color: #A5D6FF">&quot;icon-wrap&quot;</span><span style="color: #C9D1D9">&gt;</span></span>
<span class="line"><span style="color: #C9D1D9">  {completed</span></span>
<span class="line"><span style="color: #C9D1D9">    </span><span style="color: #FF7B72">?</span><span style="color: #C9D1D9"> (&lt;</span><span style="color: #7EE787">Icon</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">type</span><span style="color: #FF7B72">=</span><span style="color: #A5D6FF">&quot;success&quot;</span><span style="color: #C9D1D9">&gt;COMPLETE&lt;/</span><span style="color: #7EE787">Icon</span><span style="color: #C9D1D9">&gt;)</span></span>
<span class="line"><span style="color: #C9D1D9">    </span><span style="color: #FF7B72">:</span><span style="color: #C9D1D9"> (&lt;</span><span style="color: #7EE787">Icon</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">type</span><span style="color: #FF7B72">=</span><span style="color: #A5D6FF">&quot;danger&quot;</span><span style="color: #C9D1D9">&gt;IN PROGRESS&lt;/</span><span style="color: #7EE787">ICON</span><span style="color: #C9D1D9">&gt;)</span></span>
<span class="line"><span style="color: #C9D1D9">  }</span></span>
<span class="line"><span style="color: #C9D1D9">  &lt;/</span><span style="color: #7EE787">div</span><span style="color: #C9D1D9">&gt;</span></span>
<span class="line"><span style="color: #C9D1D9">&lt;/</span><span style="color: #7EE787">div</span><span style="color: #C9D1D9">&gt;</span></span>
<span class="line"><span style="color: #C9D1D9">&lt;</span><span style="color: #7EE787">style</span><span style="color: #C9D1D9">&gt;</span></span>
<span class="line"><span style="color: #C9D1D9">.card {</span></span>
<span class="line"><span style="color: #C9D1D9">  border: 2px solid dimgray;</span></span>
<span class="line"><span style="color: #C9D1D9">  border</span><span style="color: #FF7B72">-</span><span style="color: #C9D1D9">radius: 4px;</span></span>
<span class="line"><span style="color: #C9D1D9">  padding: 16px;</span></span>
<span class="line"><span style="color: #C9D1D9">  margin: 4px;</span></span>
<span class="line"><span style="color: #C9D1D9">  display: flex;</span></span>
<span class="line"><span style="color: #C9D1D9">  justify</span><span style="color: #FF7B72">-</span><span style="color: #C9D1D9">content: space</span><span style="color: #FF7B72">-</span><span style="color: #C9D1D9">between;</span></span>
<span class="line"><span style="color: #C9D1D9">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C9D1D9">.title {</span></span>
<span class="line"><span style="color: #C9D1D9">  font</span><span style="color: #FF7B72">-</span><span style="color: #C9D1D9">size: 1.5rem;</span></span>
<span class="line"><span style="color: #C9D1D9">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C9D1D9">.icon-wrap {</span></span>
<span class="line"><span style="color: #C9D1D9">  display: flex;</span></span>
<span class="line"><span style="color: #C9D1D9">  align</span><span style="color: #FF7B72">-</span><span style="color: #C9D1D9">items: center;</span></span>
<span class="line"><span style="color: #C9D1D9">}</span></span>
<span class="line"><span style="color: #C9D1D9">&lt;/</span><span style="color: #7EE787">style</span><span style="color: #C9D1D9">&gt;</span></span>
<span class="line"></span></code></pre>

<p><strong>TodoList.astro</strong> [<a target="_blank" href="https://github.com/take4s5i/blog/blob/main/src/components/posts/2022/07/introduction-to-astro/TodoList.astro">src</a>]</p>
<pre class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #FF7B72">---</span></span>
<span class="line"><span style="color: #8B949E">// TodoList.astro</span></span>
<span class="line"><span style="color: #FF7B72">import</span><span style="color: #C9D1D9"> TodoItem </span><span style="color: #FF7B72">from</span><span style="color: #C9D1D9"> </span><span style="color: #A5D6FF">&#39;./TodoItem.astro&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #FF7B72">const</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">limit</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">5</span></span>
<span class="line"><span style="color: #FF7B72">const</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">url</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #A5D6FF">&#39;https://jsonplaceholder.typicode.com/todos/&#39;</span></span>
<span class="line"><span style="color: #FF7B72">const</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">todos</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">await</span><span style="color: #C9D1D9"> </span><span style="color: #D2A8FF">fetch</span><span style="color: #C9D1D9">(url).</span><span style="color: #D2A8FF">then</span><span style="color: #C9D1D9">((</span><span style="color: #FFA657">res</span><span style="color: #C9D1D9">) </span><span style="color: #FF7B72">=&gt;</span><span style="color: #C9D1D9"> res.</span><span style="color: #D2A8FF">json</span><span style="color: #C9D1D9">())</span></span>
<span class="line"><span style="color: #FF7B72">---</span></span>
<span class="line"><span style="color: #C9D1D9">&lt;</span><span style="color: #7EE787">ul</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">class</span><span style="color: #FF7B72">=</span><span style="color: #A5D6FF">&quot;list&quot;</span><span style="color: #C9D1D9">&gt;</span></span>
<span class="line"><span style="color: #C9D1D9">  {todos.</span><span style="color: #D2A8FF">slice</span><span style="color: #C9D1D9">(</span><span style="color: #79C0FF">0</span><span style="color: #C9D1D9">, limit).</span><span style="color: #D2A8FF">map</span><span style="color: #C9D1D9">((</span><span style="color: #FFA657">todo</span><span style="color: #C9D1D9">) </span><span style="color: #FF7B72">=&gt;</span><span style="color: #C9D1D9"> (</span></span>
<span class="line"><span style="color: #C9D1D9">    &lt;</span><span style="color: #7EE787">li</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">class</span><span style="color: #FF7B72">=</span><span style="color: #A5D6FF">&quot;item&quot;</span><span style="color: #C9D1D9">&gt;</span></span>
<span class="line"><span style="color: #C9D1D9">      &lt;</span><span style="color: #7EE787">TodoItem</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">title</span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9">{todo.title} </span><span style="color: #79C0FF">completed</span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9">{todo.completed} /&gt;</span></span>
<span class="line"><span style="color: #C9D1D9">    &lt;/</span><span style="color: #7EE787">li</span><span style="color: #C9D1D9">&gt;</span></span>
<span class="line"><span style="color: #C9D1D9">  ))}</span></span>
<span class="line"><span style="color: #C9D1D9">&lt;/</span><span style="color: #7EE787">ul</span><span style="color: #C9D1D9">&gt;</span></span>
<span class="line"><span style="color: #C9D1D9">&lt;</span><span style="color: #7EE787">style</span><span style="color: #C9D1D9">&gt;</span></span>
<span class="line"><span style="color: #C9D1D9">.list {</span></span>
<span class="line"><span style="color: #C9D1D9">  display: flex;</span></span>
<span class="line"><span style="color: #C9D1D9">  flex</span><span style="color: #FF7B72">-</span><span style="color: #C9D1D9">direction: column;</span></span>
<span class="line"><span style="color: #C9D1D9">  list</span><span style="color: #FF7B72">-</span><span style="color: #C9D1D9">style</span><span style="color: #FF7B72">-</span><span style="color: #C9D1D9">type: none;</span></span>
<span class="line"><span style="color: #C9D1D9">  padding: 4px;</span></span>
<span class="line"><span style="color: #C9D1D9">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C9D1D9">.item {</span></span>
<span class="line"><span style="color: #C9D1D9">}</span></span>
<span class="line"><span style="color: #C9D1D9">&lt;/</span><span style="color: #7EE787">style</span><span style="color: #C9D1D9">&gt;</span></span>
<span class="line"></span></code></pre>

<p>Astro Component は Component Script と Component Template の2つのパートからなります。</p>
<p><code>---</code> で区切られた最初の部分(frontmatter) は Component Scriptです。
Component Script で Astro Component やFramework Component を import したり、
<code>Astro.props</code> で Props を受け取る事もできます。</p>
<p>Component Script は SSR 時、またはビルド時に実行されます。
このブログはビルドした HTML をデプロイしているため、 <em>TodoList.asrto</em> はビルド時に fetch したデータで
HTML をレンダリングします。</p>
<p><code>---</code> の後ろの部分は Component Template です。
JSX ライクな記法でHTMLを記述することが出来ます。
Component Script で import したコンポーネントを使ったり、定義した変数を参照出来ます。</p>
<p>また、 <code>&lt;style&gt;</code> タグでスタイルを定義することも出来ます。
スタイルは Asrto によって自動的に CSS Module 化されるので、クラス名の重複を気にする必要はありません。</p>
<p><code>&lt;TodoList /&gt;</code> をレンダリングすると以下のようになります。</p>
<ul class="list astro-MVTKVVER">
  <li class="item astro-MVTKVVER">
      <div class="card astro-CNSZABAD">
  <div class="title astro-CNSZABAD">delectus aut autem</div>
  <div class="icon-wrap astro-CNSZABAD">
  <div class="icon icon-danger astro-NZ7H5IA3">
  IN PROGRESS
</div>

  </div>
</div>

    </li><li class="item astro-MVTKVVER">
      <div class="card astro-CNSZABAD">
  <div class="title astro-CNSZABAD">quis ut nam facilis et officia qui</div>
  <div class="icon-wrap astro-CNSZABAD">
  <div class="icon icon-danger astro-NZ7H5IA3">
  IN PROGRESS
</div>

  </div>
</div>

    </li><li class="item astro-MVTKVVER">
      <div class="card astro-CNSZABAD">
  <div class="title astro-CNSZABAD">fugiat veniam minus</div>
  <div class="icon-wrap astro-CNSZABAD">
  <div class="icon icon-danger astro-NZ7H5IA3">
  IN PROGRESS
</div>

  </div>
</div>

    </li><li class="item astro-MVTKVVER">
      <div class="card astro-CNSZABAD">
  <div class="title astro-CNSZABAD">et porro tempora</div>
  <div class="icon-wrap astro-CNSZABAD">
  <div class="icon icon-success astro-NZ7H5IA3">
  COMPLETE
</div>

  </div>
</div>

    </li><li class="item astro-MVTKVVER">
      <div class="card astro-CNSZABAD">
  <div class="title astro-CNSZABAD">laboriosam mollitia et enim quasi adipisci quia provident illum</div>
  <div class="icon-wrap astro-CNSZABAD">
  <div class="icon icon-danger astro-NZ7H5IA3">
  IN PROGRESS
</div>

  </div>
</div>

    </li>
</ul>

<h2 id="おわりに">おわりに</h2>
<p>書き方がちょっと違うのと、 CSR はできないという点を除けば
コンポーネントでの開発に慣れている方はそんなに違和感なく使えるのかなと思いました。</p>
<p>先程の TodoList も記事のソースの markdown 中に直接コンポーネントとして呼び出してレンダリングしています。
MDX をセットアップしなくても markdown 中でコンポーネントを使えるのは非常に便利だと思いました。</p>
			</main>
		</div>
	</article>
</div>


		</div>
	</body></html>